(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(85),l=a(86),u=a(179),m=a(33),s=a(6),d=a(42),b=a.n(d),g=(window.location.origin,{White:"white",Black:"black",Green:"#2ecc71",Red:"#e74c3c",Blue:"#3498db",Yellow:"#f1c40f",Purple:"#9b59b6"});function f(e){b.a.defaults.headers.common={Authorization:"Baerer "+e}}var h={token:localStorage.getItem("token"),user:null,isLoggedIn:!1};f(localStorage.getItem("token"));var v,E,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return localStorage.setItem("token",t.token),f(t.token),Object(s.a)(Object(s.a)({},e),{},{token:t.token,user:t.user,isLoggedIn:!0});case"LOGOUT":return localStorage.removeItem("token"),f(null),Object(s.a)(Object(s.a)({},h),{},{token:null});default:return e}},x=Object(m.b)({auth:p}),O=Object(m.c)(x,null===(v=(E=window).__REDUX_DEVTOOLS_EXTENSION__)||void 0===v?void 0:v.call(E)),j=a(178),y=a(84),w=a(12),k=a(167),T=a(3),C=a(168),I=a(162),S=a(166),W=a(134);var N=function(){return r.a.createElement(I.a,null,r.a.createElement(S.a,null,r.a.createElement(W.a,{variant:"h6"},"Banner Generator")))},R=Object(k.a)((function(e){return{layout:{marginTop:e.mixins.toolbar[e.breakpoints.up("sm")].minHeight}}}));var L=function(e){var t=e.children,a=e.className,n=R();return r.a.createElement(C.a,{className:Object(T.a)(n.layout,a)},r.a.createElement(N,null),t)},P=a(16),B=a(170),D=a(23),H=a(54),X=a.n(H),z=a(80),A=a(133),_=a(81),F=a.n(_),G=a(82),M=a(169),U=a(49),J={TEXT:"Text",TIME:"Time",API:"API",SCRIPT:"Script"},Y=function e(t){Object(U.a)(this,e),this.key=t,this.data={type:J.TEXT,data:"Enter Text...",position:{x:0,y:0},dimensions:{width:100,height:50},typography:{fontSize:16,color:g.Black}}},V=Object(k.a)((function(e){return{textbox:{padding:e.spacing(1),position:"absolute",top:0,left:0,cursor:"move",border:"1px solid",display:"flex",justifyContent:"center",alignItems:"center"}}}));var $=function(e){var t=e.textbox,a=e.imageDimensions,c=Object(n.useContext)(Oe),o=V(),i=Object(n.useState)(t.data.position),l=Object(P.a)(i,2),u=l[0],m=l[1];Object(n.useEffect)((function(){var e=a.width/c.grid.columns,t=a.height/c.grid.rows;e&&t&&m({x:Math.round(u.x/e)*e,y:Math.round(u.y/t)*t})}),[c.grid]),Object(n.useEffect)((function(){t.data.position=u}),[u]);var d=[a.width/c.grid.columns,a.height/c.grid.rows];return r.a.createElement(G.DraggableCore,{onDrag:function(e,t){m({x:u.x+t.deltaX,y:u.y+t.deltaY})},grid:c.grid.isEnabled?d:null},r.a.createElement(M.a,{className:o.textbox,badgeContent:t.key,color:"primary",invisible:!1,anchorOrigin:{vertical:"top",horizontal:"left"},style:Object(s.a)(Object(s.a)({transform:"translate(".concat(u.x,"px, ").concat(u.y,"px)")},t.data.dimensions),t.data.typography)},t.data.type===J.TEXT?t.data.data:t.data.type===J.TIME?F()().format("HH:mm").toString():null))};function q(e,t,a,n,r){e.beginPath(),e.moveTo(t,a),e.lineTo(n,r),e.stroke()}var K=Object(k.a)((function(e){return{canvas:{position:"absolute",pointerEvents:"none",touchAction:"none",width:"100%",height:"100%"}}}));var Q=function(){var e=K(),t=Object(n.useContext)(Oe),a=Object(n.useRef)();return Object(n.useEffect)((function(){!function(){var e=a.current.getBoundingClientRect();a.current.width=e.width,a.current.height=e.height}(),function(){var e=a.current.getContext("2d");e.strokeStyle="#000000";for(var n=a.current.clientWidth/t.grid.columns,r=a.current.clientHeight/t.grid.rows,c=0;c<a.current.width;c+=n)q(e,c,0,c,a.current.height);for(var o=0;o<a.current.height;o+=r)q(e,0,o,a.current.width,o)}()}),[t.image,t.grid]),r.a.createElement("canvas",{ref:a,className:e.canvas})},Z=function(e){return new Promise((function(t){var a=document.createElement("input");a.type="file",a.accept=e,document.body.appendChild(a),a.onchange=function(e){var a=e.target.files[0];t(a)},a.click(),a.remove()}))},ee=function(e){return new Promise((function(t){var a=new FileReader;a.onload=function(){return t(a.result)},a.readAsDataURL(e)}))},te=Object(k.a)((function(e){return{canvas:{minHeight:250,overflow:"hidden",position:"relative",userSelect:"none"},image:{width:"100%"}}}));var ae=function(){var e=Object(n.useContext)(Oe),t=te(),a=Object(n.useRef)(),c=Object(n.useRef)(0),o=function(){var t=Object(z.a)(X.a.mark((function t(){var a,n;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z("image/*");case 2:return a=t.sent,t.next=5,ee(a);case 5:n=t.sent,e.set({model:Object(s.a)(Object(s.a)({},e.model),{},{image:n})});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){e.set({model:Object(s.a)(Object(s.a)({},e.model),{},{textboxes:[].concat(Object(D.a)(e.model.textboxes),[new Y(c.current++)])})})};return Object(n.useEffect)((function(){return e.event.addEventListener("importImage",o),e.event.addEventListener("addTextbox",i),function(){e.event.removeEventListener("importImage",o),e.event.removeEventListener("addTextbox",i)}})),r.a.createElement(A.a,{className:t.canvas},e.model.image&&r.a.createElement(r.a.Fragment,null,e.grid.isEnabled&&r.a.createElement(Q,null),r.a.createElement("img",{src:e.model.image,alt:"",className:t.image,ref:a,draggable:"false"})),e.model.textboxes.map((function(e){return r.a.createElement($,{textbox:e,key:e.key,imageDimensions:{width:a.current.clientWidth,height:a.current.clientHeight}})})))},ne=a(177),re=a(171),ce=a(181),oe=a(182);var ie=function(){var e=Object(n.useContext)(Oe),t=function(t){e.set({grid:Object(s.a)(Object(s.a)({},e.grid),t)})};return r.a.createElement(B.a,{container:!0,spacing:2},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(re.a,{control:r.a.createElement(ce.a,{checked:e.grid.isEnabled,onChange:function(e){return t({isEnabled:e.target.checked})}}),label:"Enabled"})),r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(oe.a,{value:e.grid.columns,onChange:function(e){return t({columns:e.target.value})},label:"Columns",type:"number",fullWidth:!0})),r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(oe.a,{value:e.grid.rows,onChange:function(e){return t({rows:e.target.value})},name:"rows",label:"Rows",type:"number",fullWidth:!0})))},le=a(176),ue=a(175),me=a(184),se=a(180),de=a(185),be=a(172),ge=a(83),fe=a.n(ge);var he=function(e){var t=e.textbox,a=t.data,c=t.key,o=Object(n.useContext)(Oe),i=function(e){t.data=Object(s.a)(Object(s.a)({},a),e),o.reload()};return r.a.createElement(B.a,{container:!0,spacing:2},r.a.createElement(B.a,{item:!0,xs:1},r.a.createElement(W.a,{variant:"h5",align:"center"},c)),r.a.createElement(B.a,{item:!0,container:!0,xs:11,spacing:2},r.a.createElement(B.a,{item:!0,xs:3},r.a.createElement(ue.a,{fullWidth:!0},r.a.createElement(me.a,null,"Type"),r.a.createElement(se.a,{value:a.type,onChange:function(e){return i(Object(s.a)(Object(s.a)({},a),{},{type:e.target.value}))}},Object.values(J).map((function(e){return r.a.createElement(de.a,{value:e,key:e},e)}))))),r.a.createElement(B.a,{item:!0,xs:2},r.a.createElement(ue.a,{fullWidth:!0},r.a.createElement(me.a,null,"Color"),r.a.createElement(se.a,{value:a.typography.color,onChange:function(e){return i(Object(s.a)(Object(s.a)({},a),{},{typography:Object(s.a)(Object(s.a)({},a.typography),{},{color:e.target.value})}))}},Object.entries(g).map((function(e){var t=Object(P.a)(e,2),a=t[0],n=t[1];return r.a.createElement(de.a,{value:n,key:a},a)}))))),r.a.createElement(B.a,{item:!0,xs:2},r.a.createElement(oe.a,{label:"Width",type:"number",inputProps:{step:10},value:a.dimensions.width,onChange:function(e){i(Object(s.a)(Object(s.a)({},a),{},{dimensions:Object(s.a)(Object(s.a)({},a.dimensions),{},{width:parseInt(e.target.value)})}))},fullWidth:!0})),r.a.createElement(B.a,{item:!0,xs:2},r.a.createElement(oe.a,{label:"Height",type:"number",inputProps:{step:10},value:a.dimensions.height,onChange:function(e){i(Object(s.a)(Object(s.a)({},a),{},{dimensions:Object(s.a)(Object(s.a)({},a.dimensions),{},{height:parseInt(e.target.value)})}))},fullWidth:!0})),r.a.createElement(B.a,{item:!0,xs:2},r.a.createElement(oe.a,{label:"Font Size",type:"number",value:a.typography.fontSize,onChange:function(e){i(Object(s.a)(Object(s.a)({},a),{},{typography:Object(s.a)(Object(s.a)({},a.typography),{},{fontSize:parseInt(e.target.value)})}))},fullWidth:!0})),r.a.createElement(B.a,{item:!0,xs:1},r.a.createElement(be.a,{onClick:function(){var e=o.model.textboxes.filter((function(e){var a=e.key;return t.key!==a}));o.set({model:Object(s.a)(Object(s.a)({},o.model),{},{textboxes:e})})}},r.a.createElement(fe.a,null))),r.a.createElement(B.a,{item:!0,xs:12},a.type===J.TEXT?r.a.createElement(oe.a,{label:"Text",value:a.data,onChange:function(e){return i(Object(s.a)(Object(s.a)({},a),{},{data:e.target.value}))},fullWidth:!0}):null)))},ve=Object(k.a)((function(e){return{divider:{margin:"".concat(e.spacing(2),"px 0")}}}));var Ee=function(){var e=Object(n.useContext)(Oe),t=ve();return e.model.textboxes.map((function(a,n){return r.a.createElement(r.a.Fragment,{key:a.key},r.a.createElement(he,{textbox:a}),n!==e.model.textboxes.length-1&&r.a.createElement(le.a,{className:t.divider}))}))},pe=Object(k.a)((function(e){return{sectionTitle:{marginBottom:e.spacing(1)}}}));var xe=function(){var e=Object(n.useContext)(Oe),t=pe(),a=function(t){return function(){return e.event.dispatchEvent(new CustomEvent(t))}};return r.a.createElement(B.a,{container:!0,spacing:2},r.a.createElement(B.a,{item:!0},r.a.createElement(ne.a,{variant:"contained",color:"primary",onClick:a("importImage")},e.model.image?"Change":"Import"," Image")),e.model.image&&r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{item:!0},r.a.createElement(ne.a,{variant:"contained",color:"primary",onClick:a("addTextbox")},"Add Textbox")),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(W.a,{variant:"h5",className:t.sectionTitle},"Grid"),r.a.createElement(ie,null)),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(W.a,{variant:"h5",className:t.sectionTitle},"Textboxes"),r.a.createElement(Ee,null))))},Oe=r.a.createContext(),je=Object(k.a)((function(e){return{}}));var ye=function(){je();var e=Object(n.useReducer)((function(e){return e+1}),0),t=Object(P.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)({event:new EventTarget,model:{image:null,textboxes:[]},grid:{isEnabled:!0,rows:16,columns:16}}),o=Object(P.a)(c,2),i=o[0],l=o[1],u={set:function(e){return l(Object(s.a)(Object(s.a)({},i),e))},reload:a};return window.context=i,r.a.createElement(Oe.Provider,{value:Object(s.a)(Object(s.a)({},i),u)},r.a.createElement(B.a,{container:!0,spacing:8},r.a.createElement(B.a,{item:!0,xs:!0},r.a.createElement(ae,null)),r.a.createElement(B.a,{item:!0,xs:!0},r.a.createElement(xe,null))))},we=Object(k.a)((function(e){return{index:{marginTop:200}}}));var ke=function(){var e=we();return r.a.createElement(L,{className:e.index},r.a.createElement(ye,null))};var Te=function(){return r.a.createElement(y.a,null,r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/"},r.a.createElement(ke,null))))};var Ce=function(){return r.a.createElement("div",null,r.a.createElement(j.a,null),r.a.createElement(Te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(131);var Ie=Object(l.a)({palette:{}});o.a.render(r.a.createElement(i.a,{store:O},r.a.createElement(u.a,{theme:Ie},r.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a(132)}},[[96,1,2]]]);
//# sourceMappingURL=main.9f576ef7.chunk.js.map